---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# eiopaR

<!-- badges: start -->
 [![Lifecycle: maturing](https://img.shields.io/badge/lifecycle-maturing-blue.svg)](https://lifecycle.r-lib.org/articles/stages.html#maturing)
 [![R-CMD-check](https://github.com/MehdiChelh/eiopaR/actions/workflows/check-standard.yaml/badge.svg)](https://github.com/MehdiChelh/eiopaR/actions/workflows/check-standard.yaml)
<!-- badges: end -->

A simple package to get the EIOPA rates directly in your script.

The data is accessed through an API which is regularly updated with the latest EIOPA rates.

**Note:** The API or the [author](mailto:mehdi.echel@gmail.com) of this package are not related to EIOPA.

## Installation

<!-- You can install the released version of eiopaR from [CRAN](https://CRAN.R-project.org) with: -->

<!-- ``` r -->
<!-- install.packages("eiopaR") -->
<!-- ``` -->

You can install the development version from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("MehdiChelh/eiopaR")
```
## Example

You can get the risk-free rates with volatility adjustment with the following script:

```{r get_data}
library(eiopaR)

rfr <- get_rfr_with_va(region = "FR", year = 2017:2018, month = 12)
rfr
```

**Note:** It is recommended to **limit the number of calls** to the functions `get_rfr`, `get_rfr_with_va`, `get_rfr_no_va` and to store the results of your calls in the environment variables of your session (like in the example above `rfr <- get_...`). Your IP can be temporary or permanently blocked if too many queries are executed.

The rates are then accessible in the form of a `data.frame`:

```{r show_data}
head(rfr$data)
```


```{r plot_data}
plot(
  rfr$data$`20171231_rfr_spot_with_va_FR`,
  ylab = "2017-12",
  type = 'l',
  col = "purple"
)
```


## Contributing
Pull requests are welcome. For major changes, please open an issue first to discuss what you would like to change.

Please make sure to update tests as appropriate.

## Credit
See [EIOPA | Risk-free interest rate term structures](https://www.eiopa.europa.eu/tools-and-data/risk-free-interest-rate-term-structures_en) for more information.

## License
[MIT](https://choosealicense.com/licenses/mit/)

